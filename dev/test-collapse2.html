<!doctype html>

<head>
    <title>Accordion Example</title>
    <style>
        /* (A) CONTAINER */
        .collapse,
        .collapse ul {
            list-style-type: none;
            padding-left: 10px;
        }

        /* (B) LIST ITEMS */
        .collapse li {
            padding: 5px;
        }


        /* (C) TOGGLE */
        .toggle {
            padding: 10px;
            cursor: pointer;
        }

        .toggle::before {
            display: inline-block;
            width: 15px;
            content: "+";
        }

        .toggle.show::before {
            content: "-";
        }

        /* (D) SHOW/HIDE */
        .collapse ul {
            display: none;
        }

        .toggle.show+ul {
            display: block;
        }
    </style>
</head>

<body>
    <ul class="collapse">
        <li>
            TITLE
            <ul>
                <li>A</li>
                <li>B</li>
                <li>
                    SUB-TITLE
                    <ul>
                        <li>C</li>
                        <li>D</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <script type="text/javascript">
        window.addEventListener("load", () => {
            for (let i of document.querySelectorAll(".collapse ul")) {
                let tog = document.createElement("div");
                tog.innerHTML = i.previousSibling.textContent;
                tog.className = "toggle";
                tog.onclick = () => tog.classList.toggle("show");
                i.parentElement.removeChild(i.previousSibling);
                i.parentElement.insertBefore(tog, i);
            }
        });
    </script>
</body>

</html>